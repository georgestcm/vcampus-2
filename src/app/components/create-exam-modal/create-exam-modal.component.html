<div class="card">
  <div class="card-header">
    {{'create_exam.create_exam' | translate}}
      <button (click)="dismiss()" class="btn btn-sm btn-danger float-right">X</button>
  </div>
  <div class="card-body" style="height:400px;overflow: auto !important;">
    <form #f="ngForm" class="form"
    (ngSubmit)="onSubmit()" >

    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text"  id="inputGroupFileAddon01">{{'create_exam.school' | translate}} *</span>
      </div>
       <select class="custom-select" required name="schoolDropdown"  
       [(ngModel)]="examModal.school" id="ddlSchool" 
       (change)="onSchoolChange($event.target.value)">
        <option value="">{{'create_exam.select' | translate}}</option>
        <option *ngFor="let school of schoolList" value={{school._id}}>
          {{school.school.school_name}}
        </option>
      </select>
    </div>

    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text"  id="inputGroupFileAddon01">{{'create_exam.course' | translate}} *</span>
      </div>
       <select class="custom-select" required name="curriculumDropdown"  
       [(ngModel)]="examModal.course" id="ddlCurriculum" 
       >
        <option value="">{{'create_exam.select' | translate}}</option>
        <option *ngFor="let c of courseList" value={{c._id}}>
          {{c.name}}
        </option>
      </select>
    </div>

    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text"  id="Exam_Type">{{'create_exam.type' | translate}} *</span>
      </div>
      <select class="custom-select"  required name="examType"  
       [(ngModel)]="examModal.Exam_Type" id="examType"  (change)="onExamTypeChange($event.target.value)"
       >
        <option value="">---{{'create_exam.select' | translate}}---</option>
        <option value="Exam">{{'create_exam.exam' | translate}}</option>
        <option value="Quiz">{{'create_exam.quiz' | translate}}</option>
        <option value="Practice">{{'create_exam.practice' | translate}}</option>
      </select>
    </div>
    <div >
      <table class="table table-sm ">
        <tr>
        <th>
          <input type="checkbox"  name="checkAll"  value="CheckAll">
        </th>
        <th>{{'create_exam.choose_question_for_exam' | translate}}</th>
      </tr>
      <tr *ngFor="let q of questionList">
        <td>
          <input type="checkbox"  name={{q._id}} [(ngModel)]="q.checked" value={{q._id}}>
        </td>
        <td>
          <div [innerHTML]="q.Question_title"></div>
        </td>
      </tr>
      </table>

    </div>
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text"  id="examName">{{'create_exam.exam_name' | translate}} *</span>
      </div>
      <input type="text" [(ngModel)]="examModal.Exam_Name" name="examName" required  class="form-control">      
    </div>

    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text"  id="examDescription">{{'create_exam.description' | translate}} </span>
      </div>
      <input type="text" [(ngModel)]="examModal.Exam_Description" name="examDescription"  class="form-control">      
    </div>

    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text"  id="Exam_StartDateTime">{{'create_exam.start_date' | translate}} </span>
      </div>
      <input type="date" [(ngModel)]="examModal.Exam_StartDateTime" name="Exam_StartDateTime"  class="form-control">      
    </div>

    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text"  id="Exam_EndDateTime">{{'create_exam.end_date' | translate}} </span>
      </div>
      <input type="date" [(ngModel)]="examModal.Exam_EndDateTime" name="Exam_EndDateTime"  class="form-control">      
    </div>
    

    <input type="submit" class="btn btn-success" [disabled]="!f.valid"  value="{{'create_exam.create_exam' | translate}}" />

    

    </form>
</div>
</div>
