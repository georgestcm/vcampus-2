<ion-header>
  <ion-buttons slot="start">
    <ion-menu-button></ion-menu-button>
    <ion-title>Add Course</ion-title>
  </ion-buttons>
</ion-header>

<ion-content>
  <!-- <div class="wrapper"> -->
  <!-- <div class="add_course"> -->
  <ion-grid class="ion-no-padding">
    <ion-row>
      <ion-col size-md="9" size-sm="12" size="12">
        <ion-card-content>
          <ion-grid class="ion-no-padding">
            <ion-row>
              <ion-col size="12">
                <ion-label>Section</ion-label>
                <select
                  class="ml-5 wd-50 custom-selection"
                  name="section"
                  (change)="sectionChanged($event)"
                >
                  <option *ngFor="let secNo of totalSections" value="{{secNo}}"
                    >{{secNo}}</option
                  >
                </select>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card-content>

        <ion-card
          *ngFor="let section of sectionList; let sectionNo = index"
          id="{{'section_' + (sectionNo + 1)}}"
          class="sections"
        >
          <ion-card-header>
            <ion-card-title>Section {{ sectionNo + 1}} </ion-card-title>
            <!-- <ion-card-content>
              <ion-input
                placeholder="Enter Section Title"
                [(ngModel)]="section.section_name"
              ></ion-input>
            </ion-card-content> -->
          </ion-card-header>
          <ion-card-content class="h-300">
            <ion-grid class="ion-no-padding">
              <ion-row>
                <ion-col size="12" class="ion-no-padding">
                  <ion-grid class="ion-no-padding">
                    <ion-row>
                      <ion-col size="12">
                        <div
                          *ngFor="let chapter of section['chapters']; let chapterNo = index"
                          class="{{'chapter_' + (chapterNo + 1)}} chapters"
                        >
                          <ion-grid class="ion-no-padding">
                            <ion-row>
                              <ion-col size-md="10" size-sm="8" size="12">
                                <ion-label>Chapter {{chapterNo + 1}}</ion-label>
                                <ion-input
                                  [(ngModel)]="chapter.chapter_name"
                                ></ion-input>
                              </ion-col>
                              <ion-col size-md="2" size-sm="4" size="12">
                                <ion-button
                                  class="ion-margin-top"
                                  size="small"
                                  (click)="addNewChapter(sectionNo + 1)"
                                >
                                  <ion-icon name="add"></ion-icon>
                                  <!-- Chapter -->
                                </ion-button>
                                <ion-button
                                  class="ion-margin-top"
                                  size="small"
                                  color="danger"
                                >
                                  <ion-icon name="trash"></ion-icon>
                                  <!-- Chapter -->
                                </ion-button>
                              </ion-col>
                            </ion-row>
                          </ion-grid>
                          <div
                            *ngFor="let topic of chapter['topics']; let topicNo = index"
                            class="{{'topic_' + (topicNo + 1)}} topics"
                          >
                            <ion-grid class="ion-no-padding">
                              <ion-row>
                                <ion-col size-md="10" size-sm="8" size="12">
                                  <ion-label>Topic {{topicNo + 1}}</ion-label>
                                  <ion-input
                                    [(ngModel)]="topic.topic_name"
                                  ></ion-input>
                                </ion-col>
                                <ion-col size-md="2" size-sm="4" size="12">
                                  <ion-button
                                    size="small"
                                    class="ion-margin-top"
                                    (click)="addNewTopic(chapterNo + 1, sectionNo + 1)"
                                  >
                                    <ion-icon name="add"></ion-icon>
                                    <!-- Topic -->
                                  </ion-button>
                                  <ion-button
                                    size="small"
                                    class="ion-margin-top"
                                    color="danger"
                                  >
                                    <ion-icon name="trash"></ion-icon>
                                    <!-- Topic -->
                                  </ion-button>
                                </ion-col>
                              </ion-row>
                            </ion-grid>

                            <div
                              *ngFor="let paragraph of topic['paragraph']; let paragraphNo = index"
                              class="{{'paragraph_' + (paragraphNo + 1)}} paragraph"
                            >
                              <ion-grid class="ion-no-padding">
                                <ion-row>
                                  <ion-col size-md="10" size-sm="8" size="12">
                                    <ion-label
                                      >Paragraph {{paragraphNo + 1}}</ion-label
                                    >
                                    <ion-textarea
                                      rows="2"
                                      [(ngModel)]="paragraph.description"
                                    ></ion-textarea>
                                    <div class="supporting_docs">
                                      <div class="file"></div>
                                      <div class="select_file">
                                        <ion-button
                                          class="ion-margin-top"
                                          color="danger"
                                        >
                                          <ion-icon
                                            name="cloud-upload"
                                          ></ion-icon>
                                          Select a file
                                        </ion-button>
                                      </div>
                                    </div>
                                  </ion-col>
                                  <ion-col size-md="2" size-sm="4" size="12">
                                    <ion-button
                                      size="small"
                                      class="ion-margin-top"
                                      (click)="addNewParagraph(topicNo + 1,chapterNo + 1, sectionNo + 1)"
                                    >
                                      <ion-icon name="add"></ion-icon>
                                      <!-- Paragraph -->
                                    </ion-button>
                                    <ion-button
                                      size="small"
                                      class="ion-margin-top"
                                      color="danger"
                                    >
                                      <ion-icon name="trash"></ion-icon>
                                      <!-- Paragraph -->
                                    </ion-button>
                                  </ion-col>
                                </ion-row>
                              </ion-grid>
                            </div>
                          </div>
                        </div>
                      </ion-col>
                    </ion-row>
                  </ion-grid>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card-content>
        </ion-card>
        <ion-card>
          <ion-card-content>
            <ion-grid class="ion-no-padding">
              <ion-row>
                <ion-col>
                  <ion-button (click)="addNewSection()">
                    ADD SECTION
                  </ion-button>
                  <ion-button (click)="saveCourse()">Save Course</ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card-content>
        </ion-card>
        <!-- </div> -->
      </ion-col>
      <ion-col size-md="3" size-sm="12" size="12">
        <!-- <div class="course_details"> -->
        <ion-card>
          <ion-card-header>
            <ion-card-title>Course details</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <ion-grid class="ion-no-padding">
              <ion-row>
                <ion-col size="12" class="ion-no-padding">
                  <ion-label>Course name</ion-label>
                  <ion-input [(ngModel)]="course.CourseName"></ion-input>
                </ion-col>
                <ion-col size="12" class="ion-no-padding mt-5">
                  <ion-label>Course description</ion-label>
                  <ion-textarea
                    rows="6"
                    [(ngModel)]="course.Description"
                  ></ion-textarea>
                </ion-col>
                <ion-col size="12" class="ion-no-padding mt-5">
                  <ion-label>Course subjects</ion-label>
                  <div class="course_subject">
                    <select
                      name="subject"
                      [(ngModel)]="course.Subject"
                      class="wd-100 custom-selection"
                    >
                      <option>None</option>
                      <option>Architecture</option>
                      <option>Art & Culture</option>
                      <option>Biology & Life Sciences</option>
                      <option>Business & Management</option>
                      <option>Chemistry</option>
                      <option>Communication</option>
                      <option>Computer Science</option>
                      <option>Data Analysis & Statistics</option>
                      <option>Design</option>
                      <option>Economics & Finance</option>
                      <option>Education & Teacher Training</option>
                      <option>Electronics</option>
                      <option>Energy & Earth Sciences</option>
                      <option>Engineering</option>
                      <option>Environmental Studies</option>
                      <option>Ethics</option>
                      <option>Food & Nutrition</option>
                      <option>Health & Safety</option>
                      <option>History</option>
                      <option>Humanities</option>
                      <option>Language</option>
                      <option>Law</option>
                      <option>Literature</option>
                      <option>Math</option>
                      <option>Medicine</option>
                      <option>Music</option>
                      <option>Philanthropy</option>
                      <option>Philosophy & Ethics</option>
                      <option>Physics</option>
                      <option>Science</option>
                      <option>Social Sciences</option>
                    </select>
                  </div>
                </ion-col>
                <ion-col size="12" class="ion-no-padding mt-5">
                  <ion-label>School selection</ion-label>
                  <div class="school_seletc">
                    <select
                      name="schools"
                      [(ngModel)]="course.School"
                      class="wd-100 custom-selection"
                    >
                      <option>None</option>
                    </select>
                  </div>
                </ion-col>
                <ion-col size="12" class="ion-no-padding mt-5">
                  <ion-label>Course curriculum</ion-label>
                  <div class="course_curriculum">
                    <select
                      name="curriculums"
                      [(ngModel)]="course.Curriculum"
                      class="wd-100 custom-selection"
                    >
                      <option>None</option>
                    </select>
                  </div>
                </ion-col>
                <ion-col size="12" class="ion-no-padding mt-5">
                  <ion-label>Course availability</ion-label>
                  <div class="course_availability">
                    <ion-grid class="ion-no-padding">
                      <ion-row>
                        <ion-col size-md="6">
                          <p>From</p>
                          <ion-datetime
                            [(ngModel)]="course.AvailabilityFrom"
                            displayFormat="MM/DD/YYYY"
                            min="2020-03-14"
                            max="2040-12-09"
                          >
                          </ion-datetime>
                        </ion-col>
                        <ion-col size-md="6">
                          <p>To</p>
                          <ion-datetime
                            [(ngModel)]="course.AvailabilityTo"
                            displayFormat="MM/DD/YYYY"
                            min="2020-03-14"
                            max="2040-12-09"
                          >
                          </ion-datetime>
                        </ion-col>
                      </ion-row>
                    </ion-grid>

                    <ion-checkbox
                      checked="true"
                      class="ion-float-left ion-margin-end"
                      [checked]="course.IsRepeatYearly"
                    ></ion-checkbox>
                    <span>Repeat yearly</span>
                  </div>
                </ion-col>
                <!-- <ion-col size-md="12" class="ion-no-padding">
                  <div class="add_course_btn">
                    <ion-button>Add course</ion-button>
                  </div>
                </ion-col> -->
              </ion-row>
            </ion-grid>
          </ion-card-content>
        </ion-card>
        <!-- </div> -->
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- </div> -->
</ion-content>
